---
description: 蔚澜智越智能体开发规范
globs: 
alwaysApply: false
---
# 蔚澜智越智能体开发规范

## 智能体编排流程

智能体开发遵循以下标准流程：

```mermaid
flowchart TD
    Start[开始] --> Goal[解析用户目标]
    Goal --> Tasks[拆解为任务链]
    Tasks --> Agents[分配给智能体]
    Agents --> Tools[调用工具执行]
    Tools --> Result[整合结果]
    Result --> Document[记录到记忆库]
```

## 智能体请求规范

- 请求必须明确指定是否需要Meta-Agent协调
- 指定任务目标和预期输出格式
- 明确是否需要关联知识库进行增强
- 指定所需的工具调用类型和参数
- 智能体需统一使用蔚澜智越专有术语

## 智能体类型

- **Meta-Agent**：负责协调其他智能体的主控智能体
- **规划智能体**：负责任务拆解和步骤规划
- **研究智能体**：负责知识检索和信息整合
- **执行智能体**：负责具体工具调用和操作执行
- **审查智能体**：负责结果验证和质量控制

## 提示词设计

- 系统提示词需明确定义角色、行为规范和响应格式
- 用户提示词需包含明确的任务描述和期望输出
- 提示词总长度控制在2000令牌以内
- 关键指令使用标记符号突出显示
- 提供充分的上下文信息和示例

## 工具调用规范

- 工具函数需明确定义参数类型和返回格式
- 错误处理必须包含重试机制和失败策略
- 工具调用结果需记录到行日子模块
- 外部API调用需实现超时控制和熔断机制
- 敏感操作需经过鉴权和审计
- 请求必须指定工具调用的目的和预期结果
- 明确工具调用的参数格式和验证规则
- 明确调用日志记录要求

## 知识增强

- 智能体需关联知识库进行知识增强
- 向量检索使用混合检索(Hybrid Search)提高准确性
- 检索结果需按相关度排序并控制返回数量
- 定期更新知识库以保持信息时效性
- 对检索不确定的领域，明确表示信息局限性

## 记忆体系

- 请求应指明是否需要访问记忆库中的特定文件
- 是否需要更新记忆库中的内容
- 指定任务执行结果是否需要记录到progress.md
- 明确是否需要更新activeContext.md
- 在实现重大变更后必须审查并更新所有相关记忆库文件

## 评估与优化

- 每个智能体需记录关键决策和性能指标
- 定期分析智能体调用日志，识别改进点
- 测试用例应覆盖常见场景和边缘情况
- 智能体配置参数需可动态调整
- 持续优化提示词以提高响应质量
